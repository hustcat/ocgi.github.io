<!doctype html><html lang=en-us><head><meta charset=utf-8><title>Carrier SDK</title><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=generator content="Hugo 0.83.1"><link rel=stylesheet href=https://ocgi.github.io/plugins/bootstrap/bootstrap.min.css><link rel=stylesheet href=https://ocgi.github.io/plugins/themify-icons/themify-icons.css><link rel=icon href=https://ocgi.github.io/images/favicon.png type=image/x-icon><link href="https://fonts.googleapis.com/css?family=Lato:300,400,700&display=swap" rel=stylesheet><style>:root{--primary-color:#0052d9;--body-color:#f9f9f9;--text-color:#636363;--text-color-dark:#242738;--white-color:#ffffff;--light-color:#f8f9fa;--font-family:Lato}</style><link href=https://ocgi.github.io/css/style.min.css rel=stylesheet media=screen><script src=https://ocgi.github.io/plugins/jquery/jquery-1.12.4.js></script><script src=https://ocgi.github.io/plugins/jquery/jquery-ui.js></script><script src=https://ocgi.github.io/plugins/bootstrap/bootstrap.min.js></script><script src=https://ocgi.github.io/plugins/match-height/jquery.matchHeight-min.js></script></head><body><header class="shadow-bottom sticky-top bg-white"><nav class="navbar navbar-expand-md navbar-light"><div class=container><a class="navbar-brand px-2" href=/>OCGI</a>
<button class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#navigation aria-controls=navigation aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse text-center" id=navigation><ul class="navbar-nav ml-auto"><li class=nav-item><a class="nav-link text-dark" href=https://ocgi.github.io/en/docs/>Docs</a></li><li class=nav-item><a class="nav-link text-dark" href=https://github.com/ocgi>Github</a></li></ul><select class="lang-list dark" id=select-language onchange="location=this.value"><option id=en value=https://ocgi.github.io/zh/docs/reference/sdk/ selected>En</option></select></div></div></nav></header><section class="single section-sm pb-0"><div class=container><div class=row><div class=col-lg-3><div class=sidebar><ul class=list-styled><a class=back-btn href=/></a><li data-nav-id=https://ocgi.github.io/zh/ title=Zhs class=sidelist><a href=https://ocgi.github.io/zh/>Zhs</a><ul><li data-nav-id=https://ocgi.github.io/zh/docs/ title="OCGI Documentation" class=sidelist><a href=https://ocgi.github.io/zh/docs/>OCGI Documentation</a><ul><li data-nav-id=https://ocgi.github.io/zh/docs/overview/ title=Overview class=sidelist><a href=https://ocgi.github.io/zh/docs/overview/>Overview</a></li><li data-nav-id=https://ocgi.github.io/zh/docs/installation/ title=Installation class=sidelist><a href=https://ocgi.github.io/zh/docs/installation/>Installation</a></li><li data-nav-id=https://ocgi.github.io/zh/docs/getting-started/ title="Getting Started" class=sidelist><a href=https://ocgi.github.io/zh/docs/getting-started/>Getting Started</a><ul><li data-nav-id=https://ocgi.github.io/zh/docs/getting-started/gameserver/ title=创建GameServer class=sidelist><a href=https://ocgi.github.io/zh/docs/getting-started/gameserver/>创建GameServer</a></li><li data-nav-id=https://ocgi.github.io/zh/docs/getting-started/squad/ title=创建Squad class=sidelist><a href=https://ocgi.github.io/zh/docs/getting-started/squad/>创建Squad</a></li><li data-nav-id=https://ocgi.github.io/zh/docs/getting-started/gpa/ title="Create a GeneralPodAutoscaler" class=sidelist><a href=https://ocgi.github.io/zh/docs/getting-started/gpa/>Create a GeneralPodAutoscaler</a></li></ul></li><li data-nav-id=https://ocgi.github.io/zh/docs/guides/ title=Guides class=sidelist><a href=https://ocgi.github.io/zh/docs/guides/>Guides</a><ul><li data-nav-id=https://ocgi.github.io/zh/docs/guides/squad_details/ title=Squad介绍 class=sidelist><a href=https://ocgi.github.io/zh/docs/guides/squad_details/>Squad介绍</a></li><li data-nav-id=https://ocgi.github.io/zh/docs/guides/gpa/ title=GeneralPodAutoscaler介绍 class=sidelist><a href=https://ocgi.github.io/zh/docs/guides/gpa/>GeneralPodAutoscaler介绍</a></li><li data-nav-id=https://ocgi.github.io/zh/docs/guides/autoscaling_flow/ title=GameServer自动伸缩流程 class=sidelist><a href=https://ocgi.github.io/zh/docs/guides/autoscaling_flow/>GameServer自动伸缩流程</a></li><li data-nav-id=https://ocgi.github.io/zh/docs/guides/squad-scaledown-priority/ title=设置GamerServer缩容的优先级 class=sidelist><a href=https://ocgi.github.io/zh/docs/guides/squad-scaledown-priority/>设置GamerServer缩容的优先级</a></li></ul></li><li data-nav-id=https://ocgi.github.io/zh/docs/reference/ title=Reference class=sidelist><a href=https://ocgi.github.io/zh/docs/reference/>Reference</a><ul><li data-nav-id=https://ocgi.github.io/zh/docs/reference/sdk/ title="Carrier SDK" class="sidelist
active"><a href=https://ocgi.github.io/zh/docs/reference/sdk/>Carrier SDK</a></li><li data-nav-id=https://ocgi.github.io/zh/docs/reference/gpa_webhook/ title="GPA Webhook示例" class=sidelist><a href=https://ocgi.github.io/zh/docs/reference/gpa_webhook/>GPA Webhook示例</a></li></ul></li><li data-nav-id=https://ocgi.github.io/zh/docs/examples/ title=Examples class=sidelist><a href=https://ocgi.github.io/zh/docs/examples/>Examples</a></li><li data-nav-id=https://ocgi.github.io/zh/docs/faq/ title="Frequently Asked Questions" class=sidelist><a href=https://ocgi.github.io/zh/docs/faq/>Frequently Asked Questions</a></li></ul></li></ul></li></ul></div></div><div class=col-lg-9><div class="p-lg-5 p-4 bg-white"><h1 class=mb-5>Carrier SDK</h1><div class=content><h2 id=背景>背景</h2><p>一般来说，游戏后端server会缓存一些玩家状态数据。在自动弹性伸缩的时候，<code>Carrier controller</code>不能随意创建/删除<code>GameServer</code>。K8s提供的<code>Statefulset</code>，<code>Deployment</code>等workload在缩容、变更删除Pod时缺少与应用程序的确认。</p><p>而<code>GameServer workload</code>提供了一个简单的<code>SDK</code>，游戏后端server可以把当前的一些服务状态信息，通知到<code>Carrier controller</code>，用于<code>Carrier controller</code>在弹性伸缩、或者发布变更时，选择合适的副本进行删除。</p><h2 id=game-server与sdk的关系>Game server与SDK的关系</h2><p><img src=/images/sdk_archtecture.jpg alt="SDK archtecture"></p><ul><li><code>SDK-Server</code>作为<code>sidecar</code>容器(由<code>Carrier controller</code>自动注入)，与<code>GameServer</code>容器，运行在同一个K8s pod。</li><li><code>GameServer</code>可以通过<code>SDK API</code>访问<code>SDK-Server</code>。如果应用程序不想调用<code>SDK API</code>，可以配置相应的Webhook，由<code>SDK-Server</code>来调用Webhook。</li><li><code>SDK-Server</code>连接<code>K8s API</code>，并更新<code>GameServer CRD</code>。</li></ul><h2 id=用户自定义condition>用户自定义Condition</h2><p><code>GameServer</code>可以通过<code>SDK API</code>或者<code>Webhook</code>的方式，设置自定义Condition。</p><h3 id=readinessgates>ReadinessGates</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>GameServer</span>
...
<span style=color:#f92672>spec</span>:
  <span style=color:#f92672>readinessGates</span>:
    - <span style=color:#ae81ff>network.ocgi.dev/lb-ready</span>
<span style=color:#f92672>status</span>:
  <span style=color:#f92672>conditions</span>:
    - <span style=color:#f92672>type</span>: <span style=color:#e6db74>&#34;network.ocgi.dev/lb-ready&#34;</span>
      <span style=color:#f92672>status</span>: <span style=color:#e6db74>&#34;True&#34;</span>
      <span style=color:#f92672>lastProbeTime</span>: <span style=color:#66d9ef>null</span>
      <span style=color:#f92672>lastTransitionTime</span>: <span style=color:#e6db74>2018-01-01T00:00:00Z</span>
</code></pre></div><p>当Squad在变更时，需要保证所有<code>ReadinessGates Condition</code>都为<code>True</code>，<code>Carrier controller</code>才认为新的副本状态是Ready。</p><h3 id=deletablegates>DeletableGates</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>GameServer</span>
...
<span style=color:#f92672>spec</span>:
  <span style=color:#f92672>deletableGates</span>:
    - <span style=color:#ae81ff>carrier.ocgi.dev/has-no-player</span>
<span style=color:#f92672>status</span>:
  <span style=color:#f92672>conditions</span>:
    - <span style=color:#f92672>type</span>: <span style=color:#e6db74>&#34;carrier.ocgi.dev/has-no-player&#34;</span>
      <span style=color:#f92672>status</span>: <span style=color:#e6db74>&#34;True&#34;</span>
      <span style=color:#f92672>lastProbeTime</span>: <span style=color:#66d9ef>null</span>
      <span style=color:#f92672>lastTransitionTime</span>: <span style=color:#e6db74>2018-01-01T00:00:00Z</span>
</code></pre></div><p>当Squad在变更，或者缩容时，需要保证<code>DeletableGates Condition</code>都为<code>True</code>，才能删除相应的副本。</p><h2 id=gameserver访问sdk-server>GameServer访问SDK Server</h2><p><code>SDK-Server</code>启动后，会监听一个gRPC和一个HTTP端口，<code>Carrier controller</code>会将端口信息作为环境变量写到<code>GameServer</code>容器：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#75715e># kubectl exec -it squad-example-54b764fd57-2bkhx -c server /bin/bash</span>
<span style=color:#f92672>[</span>root@squad-example-54b764fd57-2bkhx /<span style=color:#f92672>]</span><span style=color:#75715e># env | grep SDK</span>
CARRIER_SDK_GRPC_PORT<span style=color:#f92672>=</span><span style=color:#ae81ff>9020</span>
CARRIER_SDK_HTTP_PORT<span style=color:#f92672>=</span><span style=color:#ae81ff>9021</span>
</code></pre></div><ul><li>CARRIER_SDK_GRPC_PORT: gRPC服务端口，默认是9020</li><li>CARRIER_SDK_HTTP_PORT: http服务端口，默认是9021</li></ul><h3 id=sdk-api>SDK API</h3><p>参考 <a href=https://github.com/ocgi/carrier-sdk/blob/master/docs/API.md>SDK gRPC API</a> 和 <a href=https://github.com/ocgi/carrier-sdk/blob/master/docs/HTTP_API.md>SDK HTTP API</a>.</p><ul><li><p><a href=https://github.com/ocgi/carrier-sdk/tree/master/sdks/sdkgo>go sdk</a></p><p><a href=https://github.com/ocgi/sdk-examples/tree/master/simple-tcp>simple-tcp</a> is an example of using go sdk.</p></li><li><p><a href=https://github.com/ocgi/carrier-sdk/tree/master/sdks/sdkcpp>c++ sdk</a></p><p><a href=https://github.com/ocgi/sdk-examples-cpp>sdk-examples-cpp</a> is an example of using c++ sdk.</p></li></ul><h2 id=自定义webhook>自定义Webhook</h2><p>如果应用程序不想调用<code>SDK API</code>，可以配置相应的Webhook，由<code>SDK-Server</code>来调用Webhook。</p><p>1.首先，我们定义一个Webhook服务。例如：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>carrier.ocgi.dev/v1alpha1</span>
<span style=color:#f92672>kind</span>: <span style=color:#ae81ff>WebhookConfiguration</span>
<span style=color:#f92672>metadata</span>:
  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>ds-webhook</span>
  <span style=color:#f92672>namespace</span>: <span style=color:#ae81ff>default</span>
<span style=color:#f92672>webhooks</span>:
  - <span style=color:#f92672>clientConfig</span>:
      <span style=color:#f92672>url</span>: <span style=color:#ae81ff>http://ds.carrier.dev/server-ready</span>
    <span style=color:#f92672>name</span>: <span style=color:#ae81ff>server-ready</span>
    <span style=color:#f92672>type</span>: <span style=color:#ae81ff>ReadinessWebhook</span>
</code></pre></div><p>Webhook的详细定义参考<a href=https://github.com/ocgi/carrier/blob/master/pkg/apis/carrier/v1alpha1/webhookconfiguration.go>WebhookConfiguration</a>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#75715e>// WebhookConfiguration is the data structure for a WebhookConfiguration resource.
</span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>WebhookConfiguration</span> <span style=color:#66d9ef>struct</span> {
	<span style=color:#a6e22e>metav1</span>.<span style=color:#a6e22e>TypeMeta</span>   <span style=color:#e6db74>`json:&#34;,inline&#34;`</span>
	<span style=color:#a6e22e>metav1</span>.<span style=color:#a6e22e>ObjectMeta</span> <span style=color:#e6db74>`json:&#34;metadata,omitempty&#34;`</span>

	<span style=color:#a6e22e>Webhooks</span> []<span style=color:#a6e22e>Configurations</span> <span style=color:#e6db74>`json:&#34;webhooks&#34;`</span>
}

<span style=color:#75715e>// +k8s:deepcopy-gen:interfaces=k8s.io/apimachinery/pkg/runtime.Object
</span><span style=color:#75715e></span>
<span style=color:#75715e>// WebhookConfigurationList is a list of WebhookConfiguration resources
</span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>WebhookConfigurationList</span> <span style=color:#66d9ef>struct</span> {
	<span style=color:#a6e22e>metav1</span>.<span style=color:#a6e22e>TypeMeta</span> <span style=color:#e6db74>`json:&#34;,inline&#34;`</span>
	<span style=color:#a6e22e>metav1</span>.<span style=color:#a6e22e>ListMeta</span> <span style=color:#e6db74>`json:&#34;metadata,omitempty&#34;`</span>

	<span style=color:#a6e22e>Items</span> []<span style=color:#a6e22e>WebhookConfiguration</span> <span style=color:#e6db74>`json:&#34;items&#34;`</span>
}

<span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Configurations</span> <span style=color:#66d9ef>struct</span> {
	<span style=color:#a6e22e>ClientConfig</span>   <span style=color:#a6e22e>v1</span>.<span style=color:#a6e22e>WebhookClientConfig</span> <span style=color:#e6db74>`json:&#34;clientConfig&#34;`</span>
	<span style=color:#a6e22e>Name</span>           <span style=color:#f92672>*</span><span style=color:#66d9ef>string</span>                <span style=color:#e6db74>`json:&#34;name,omitempty&#34;`</span>
	<span style=color:#a6e22e>Type</span>           <span style=color:#f92672>*</span><span style=color:#66d9ef>string</span>                <span style=color:#e6db74>`json:&#34;type,omitempty&#34;`</span>
	<span style=color:#a6e22e>TimeoutSeconds</span> <span style=color:#f92672>*</span><span style=color:#66d9ef>int32</span>                 <span style=color:#e6db74>`json:&#34;timeoutSeconds,omitempty&#34;`</span>
	<span style=color:#a6e22e>PeriodSeconds</span>  <span style=color:#f92672>*</span><span style=color:#66d9ef>int32</span>                 <span style=color:#e6db74>`json:&#34;periodSeconds,omitempty&#34;`</span>
}
</code></pre></div><p>其中<code>Type</code>可以为</p><ul><li><p>ReadinessWebhook</p><p>对应<code>Configurations</code>中<code>Name</code>为 readinessGates中的值</p></li><li><p>DeletableWebhook</p><p>对应<code>Configurations</code>中<code>Name</code>为 deletableGates中的值</p></li><li><p>ConstraintWebhook</p><p>当ConstraintWebhook配置之后，sdk server会自动watch Gameserver的Constraint, 随后调用用户的webhook</p></li></ul><p>2.配置<code>GameServer</code>访问Webhook。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>carrier.ocgi.dev/v1alpha1</span>
<span style=color:#f92672>kind</span>: <span style=color:#ae81ff>GameServer</span>
<span style=color:#f92672>metadata</span>:
  <span style=color:#f92672>annotations</span>:
    <span style=color:#f92672>carrier.ocgi.dev/webhook-config-name</span>: <span style=color:#ae81ff>ds-webhook</span> <span style=color:#75715e># should be the webhook name</span>
  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>ds-server</span>
  <span style=color:#f92672>namespace</span>: <span style=color:#ae81ff>default</span>
<span style=color:#f92672>spec</span>:
  <span style=color:#f92672>health</span>:
    <span style=color:#f92672>disabled</span>: <span style=color:#66d9ef>true</span> <span style=color:#75715e># 不检查GameServer的健康状况。</span>
  <span style=color:#f92672>readinessGates</span>:
    - <span style=color:#ae81ff>server-ready</span> <span style=color:#75715e># readiness gate name should be same as the readiness gate name in webhook</span>
</code></pre></div><p>3.Webhook Server</p><p>详细参考<a href=https://github.com/ocgi/carrier-sdk/tree/master/examples>webhook example</a>.</p><p>webhook server对应的API</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>
<span style=color:#75715e>// WebhookRequest defines the request to webhook endpoint
</span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>WebhookRequest</span> <span style=color:#66d9ef>struct</span> {
	<span style=color:#75715e>// UID is used for tracing the request and response.
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>UID</span> <span style=color:#a6e22e>types</span>.<span style=color:#a6e22e>UID</span> <span style=color:#e6db74>`json:&#34;uid&#34;`</span>
	<span style=color:#75715e>// Name is the name of the GameServer
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>Name</span> <span style=color:#66d9ef>string</span> <span style=color:#e6db74>`json:&#34;name&#34;`</span>
	<span style=color:#75715e>// Namespace is the workload namespace
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>Namespace</span> <span style=color:#66d9ef>string</span> <span style=color:#e6db74>`json:&#34;namespace&#34;`</span>
	<span style=color:#75715e>// Constraints describes the constraints of game server.
</span><span style=color:#75715e></span>	<span style=color:#75715e>// This filed may be added or changed by controller or manually.
</span><span style=color:#75715e></span>	<span style=color:#75715e>// If anyone of them is `NotInService` and Effective is `True`,
</span><span style=color:#75715e></span>	<span style=color:#75715e>// We should react to the constraint.
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>Constraints</span> []<span style=color:#a6e22e>Constraint</span> <span style=color:#e6db74>`json:&#34;constraints,omitempty&#34;`</span>
}

<span style=color:#75715e>// WebhookResponse defines the response of webhook server
</span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>WebhookResponse</span> <span style=color:#66d9ef>struct</span> {
	<span style=color:#75715e>// UID is used for tracing the request and response.
</span><span style=color:#75715e></span>	<span style=color:#75715e>// It should be same as it in the request.
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>UID</span> <span style=color:#a6e22e>types</span>.<span style=color:#a6e22e>UID</span> <span style=color:#e6db74>`json:&#34;uid&#34;`</span>
	<span style=color:#75715e>// Set to false if should not allow
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>Allowed</span> <span style=color:#66d9ef>bool</span> <span style=color:#e6db74>`json:&#34;allowed&#34;`</span>
	<span style=color:#75715e>// Reason for this result.
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>Reason</span> <span style=color:#66d9ef>string</span> <span style=color:#e6db74>`json:&#34;reason,omitempty&#34;`</span>
}

<span style=color:#75715e>// Constraint describes the constraint info of game server.
</span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Constraint</span> <span style=color:#66d9ef>struct</span> {
	<span style=color:#75715e>// Type is the ConstraintType name, e.g. NotInService.
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>Type</span> <span style=color:#66d9ef>string</span> <span style=color:#e6db74>`json:&#34;type&#34;`</span>
	<span style=color:#75715e>// Effective describes whether the constraint is effective.
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>Effective</span> <span style=color:#f92672>*</span><span style=color:#66d9ef>bool</span> <span style=color:#e6db74>`json:&#34;effective,omitempty&#34;`</span>
	<span style=color:#75715e>// Message explains why this constraint is added.
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>Message</span> <span style=color:#66d9ef>string</span> <span style=color:#e6db74>`json:&#34;message,omitempty&#34;`</span>
	<span style=color:#75715e>// TimeAdded describes when it is added.
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>TimeAdded</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Time</span> <span style=color:#e6db74>`json:&#34;timeAdded,omitempty&#34;`</span>
}

<span style=color:#75715e>// WebhookReview is passed to the webhook with a populated Request value,
</span><span style=color:#75715e>// and then returned with a populated Response.
</span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>WebhookReview</span> <span style=color:#66d9ef>struct</span> {
	<span style=color:#a6e22e>Request</span>  <span style=color:#f92672>*</span><span style=color:#a6e22e>WebhookRequest</span>  <span style=color:#e6db74>`json:&#34;request&#34;`</span>
	<span style=color:#a6e22e>Response</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>WebhookResponse</span> <span style=color:#e6db74>`json:&#34;response&#34;`</span>
}
</code></pre></div><ol><li><p>开发的webhook server会收到<code>WebhookReview</code>, 但是只包含 <code>Request</code>, webhook server返回<code>WebhookReview</code>, 但是需要包含 <code>Response</code>;</p></li><li><p>对于<code>ReadinessWebhook</code>、<code>DeletableWebhook</code>，收到的<code>Request</code>会包含<code>GameServer</code> Name、 Namespace,
用户的Response需要返回<code>Allowed</code>, <code>Reason</code>(可选);</p></li><li><p>对于<code>ConstraintWebhook</code>, 收到的<code>Request</code>会包含<code>GameServer</code> Name、 Namespace、Constraint.
用户的Response可以不返回任何有效信息，sdk-server当前未校验用户的返回信息。</p></li></ol><h2 id=reference>Reference</h2><p>更多信息参考<a href=https://github.com/ocgi/carrier-sdk>carrier-sdk</a>。</p></div><p class="post-meta border-bottom pb-3 mb-0 mt-3">Updated on 2020-11-24</p></p><nav class="pagination mt-3"><a class="nav nav-prev" href=https://ocgi.github.io/zh/docs/reference/><i class="ti-arrow-left mr-2"></i> <span class="d-none d-md-block">Reference</span></a>
<a class="nav nav-next" href=https://ocgi.github.io/zh/docs/reference/gpa_webhook/><span class="d-none d-md-block">GPA Webhook示例</span><i class="ti-arrow-right ml-2"></i></a></nav></div></div></div></div></section><footer class="section pb-4"><div class=container><div class="row align-items-center"><div class="col-md-8 text-md-left text-center"><p class="mb-md-0 mb-4">Copyright © 2021 The OCGI Authors</p></div><div class="col-md-4 text-md-right text-center"><ul class=list-inline></ul></div></div></div></footer><script src=https://ocgi.github.io/js/script.min.js></script></body></html>